@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 15, 23, 42;
  --background-rgb: 15, 23, 42;
  --card-rgb: 26, 39, 68;
}

body {
  color: rgb(var(--foreground-rgb));
  background: rgb(var(--background-rgb));
  font-feature-settings: 'ss01' on, 'ss02' on;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Premium dark theme base */
@layer base {
  html {
    @apply scroll-smooth;
  }

  ::selection {
    @apply bg-rv-accent/30 text-white;
  }
}

@layer components {
  /* Premium card styling */
  .card-premium {
    @apply relative bg-rv-slate rounded-xl overflow-hidden;
    @apply border border-white/5;
    @apply shadow-card;
    @apply transition-all duration-300 ease-out;
    background-image:
      linear-gradient(135deg, rgba(255,255,255,0.02) 0%, transparent 50%),
      linear-gradient(to bottom, rgba(255,255,255,0.03) 0%, transparent 1px);
  }

  .card-premium:hover {
    @apply shadow-card-hover border-rv-accent/20;
    transform: translateY(-4px);
  }

  .card-premium::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
  }

  .card-premium:hover::before {
    @apply opacity-100;
  }

  /* Glass effect */
  .glass {
    @apply bg-white/5 backdrop-blur-lg border border-white/10;
  }

  /* Court line watermark for cards */
  .court-lines {
    background-image:
      linear-gradient(90deg, transparent 49%, rgba(255,255,255,0.02) 50%, transparent 51%),
      linear-gradient(0deg, transparent 49%, rgba(255,255,255,0.02) 50%, transparent 51%);
    background-size: 40px 40px;
  }

  /* Stat badge styling */
  .stat-badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-lg;
    @apply bg-rv-steel/60 border border-white/5;
    @apply text-sm font-medium text-rv-silver;
  }

  .stat-badge-accent {
    @apply bg-rv-accent/10 border-rv-accent/20 text-rv-accent-bright;
  }

  .stat-badge-success {
    @apply bg-rv-success/10 border-rv-success/20 text-rv-success;
  }

  .stat-badge-warning {
    @apply bg-rv-warning/10 border-rv-warning/20 text-rv-warning;
  }

  /* Streak glow effect */
  .streak-active {
    @apply relative;
  }

  .streak-active::after {
    content: '';
    @apply absolute -inset-1 rounded-xl opacity-60;
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0));
    animation: streak-glow 1.5s ease-in-out infinite;
    z-index: -1;
  }

  /* Button styles */
  .btn-primary {
    @apply relative overflow-hidden;
    @apply bg-rv-accent text-white font-semibold;
    @apply px-6 py-3 rounded-lg;
    @apply transition-all duration-200;
    @apply hover:bg-rv-accent-bright hover:shadow-glow;
    @apply active:scale-[0.98];
  }

  .btn-secondary {
    @apply relative overflow-hidden;
    @apply bg-rv-steel text-white font-semibold;
    @apply border border-white/10;
    @apply px-6 py-3 rounded-lg;
    @apply transition-all duration-200;
    @apply hover:bg-rv-slate hover:border-white/20;
    @apply active:scale-[0.98];
  }

  /* Ripple effect container */
  .ripple-container {
    @apply relative overflow-hidden;
  }

  .ripple {
    @apply absolute rounded-full bg-white/20 pointer-events-none;
    animation: ripple 0.6s ease-out forwards;
  }

  /* Mode-specific accent colors */
  .mode-film-room {
    --mode-color: theme('colors.rv-accent');
    --mode-bg: rgba(59, 130, 246, 0.1);
  }

  .mode-daily-5 {
    --mode-color: theme('colors.rv-gold');
    --mode-bg: rgba(251, 191, 36, 0.1);
  }

  .mode-sudden-death {
    --mode-color: theme('colors.rv-danger');
    --mode-bg: rgba(239, 68, 68, 0.1);
  }

  .mode-category-drill {
    --mode-color: theme('colors.rv-success');
    --mode-bg: rgba(16, 185, 129, 0.1);
  }

  /* Header gradient */
  .header-gradient {
    background: linear-gradient(180deg, rgba(10, 22, 40, 0.98) 0%, rgba(26, 39, 68, 0.95) 100%);
    @apply border-b border-white/5;
  }

  /* Whistle icon subtle background */
  .whistle-bg {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='rgba(255,255,255,0.02)' stroke-width='1'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z'/%3E%3C/svg%3E");
    background-size: 60px 60px;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Gradient text */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #fff 0%, #94a3b8 100%);
  }

  .text-gradient-accent {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
  }

  /* Subtle grid pattern */
  .bg-grid {
    background-image:
      linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Noise texture overlay */
  .noise {
    position: relative;
  }

  .noise::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.02;
    pointer-events: none;
  }

  /* Hide scrollbar but allow scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Keyframe animations */
@keyframes streak-glow {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.02);
  }
}

@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 0.5;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}
